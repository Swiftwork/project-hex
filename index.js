webpackJsonp([0],[function(e,t,n){"use strict";var o=n(1),i=n(2);if(!o.Engine.isSupported())throw document.querySelector("h1#support").style.display="block",document.querySelector("canvas#game").remove(),"Your browser does not support BabylonJS or WebGL is not enabled!";document.querySelector("h1#support").remove();var r=new i["default"](document.querySelector("canvas#game"));window.game=r,window.onfocus=r.onResume.bind(r),window.onresize=r.onResize.bind(r),window.onblur=r.onPause.bind(r)},,function(e,t,n){"use strict";var o=n(1),i=n(3),r=n(15),s=n(21),a=n(26),u=n(32),c=function(){function e(){}return e}();t.settings=c;var d=function(){function e(e){var t=this;this.canvas=e,this.settings={seed:new u["default"](2),difficulty:1,paused:!1,graphics:{quality:5}},this.engine=new o.Engine(this.canvas,(!0)),this.engine.loadingScreen=new a["default"](this.canvas,new o.Color3(.4,.2,.3)),this.engine.displayLoadingUI(),this.scene=new o.Scene(this.engine),this.assetsManager=new i["default"],this.assetsManager.loadAllAssets(new o.AssetsManager(this.scene),function(e){t.world=new r["default"](t,t.scene),t.renderer=new s["default"](t,t.world,t.scene),t.onStart()})}return e.prototype.onStart=function(){this.world.onCreate(),this.renderer.onCreate()},e.prototype.onResume=function(){this.settings.paused=!1,this.world.onResume(),this.renderer.onResume()},e.prototype.onResize=function(){this.engine.resize()},e.prototype.onPause=function(){this.settings.paused=!0,this.world.onPause(),this.renderer.onPause()},e.prototype.onQuit=function(){this.world.onDestroy(),this.renderer.onDestroy()},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=d},function(e,t,n){"use strict";var o=function(){function e(){this.assets=new Map}return e.prototype.add=function(e,t){return this.assets.set(e,t),t},e.prototype.get=function(e){return this.assets.get(e)},e.prototype.loadAllAssets=function(e,t){var n=this,o=function(t){var o=i.textures[t],r=function(i){var r=o[i],s=e.addTextureTask(t+"-"+i,r);s.onSuccess=function(e){n.add("texture-"+t+"-"+i,e.texture)}};for(var s in o)r(s)};for(var r in i.textures)o(r);for(var r in i.models){var s=i.models[r].mesh,a=e.addMeshTask(r,"","",s);a.onSuccess=function(e){for(var t=0;t<e.loadedMeshes.length;++t){var o=e.loadedMeshes[t];n.add("mesh-"+o.id,o)}}}e.onFinish=t,e.load()},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i={textures:{paper:{diffuse:n(4),bump:n(5)},wood:{diffuse:n(6),bump:n(7)},dirt:{diffuse:n(8),bump:n(9)},grass:{diffuse:n(10)},sand:{diffuse:n(11)},stone:{diffuse:n(12)},water:{diffuse:n(13)}},models:{trees:{mesh:n(14)}}}},function(e,t,n){e.exports=n.p+"assets/1adf283ac9ae19afe70f836f25be7469.jpg"},function(e,t,n){e.exports=n.p+"assets/28bd68f5196f8978354abb3527f77cfc.jpg"},function(e,t,n){e.exports=n.p+"assets/73e680508c59ccfc010445d7c7696648.jpg"},function(e,t,n){e.exports=n.p+"assets/be7d4f9af24236bf274b02b305073cd7.jpg"},function(e,t,n){e.exports=n.p+"assets/e98b24a60a97417619038f7565ca4c11.jpg"},function(e,t,n){e.exports=n.p+"assets/8f0ec2e5bbdff4495bd61b65069d22d6.jpg"},function(e,t,n){e.exports=n.p+"assets/80d81f9190bd3f6edb5befa7a0e243cb.svg"},function(e,t,n){e.exports=n.p+"assets/f725a4a6b6718d2fbd507467a3e45f42.svg"},function(e,t,n){e.exports=n.p+"assets/f8fc2596d46033257876cec1c335665a.svg"},function(e,t,n){e.exports=n.p+"assets/cab7a66528bd3aa14ca69fe851dfe583.svg"},function(e,t,n){e.exports=n.p+"assets/99727273465a286ce32be67f869e530a.babylon"},function(e,t,n){"use strict";var o=n(1),i=n(16),r=n(17),s=n(19),a=n(20),u=function(){function e(e,t){this.game=e,this.scene=t,this.scene.collisionsEnabled=!1,this.tiles=new Map,this.layout=new a.HexagonLayout(a.HexagonLayout.LAYOUT_HORIZONTAL,new o.Vector2(.5,.5),new o.Vector3(0,0,0)),this.createTiles(5,5)}return e.prototype.onCreate=function(){this.onUpdate()},e.prototype.onResume=function(){this.onUpdate()},e.prototype.onUpdate=function(){},e.prototype.onPause=function(){},e.prototype.onDestroy=function(){},e.prototype.createTiles=function(e,t){for(var n=new i["default"](0,0,0),o=-e;o<=e;o++)for(var r=Math.max(-e,-o-e),a=Math.min(e,-o+e),u=r;u<=a;u++){var c=new i["default"](o,u,-o-u),d=c.hash(),h=new s["default"](c,this.generateTileType(d,[this.tiles.get(c.neighbor(3).hash()),this.tiles.get(c.neighbor(4).hash()),this.tiles.get(c.neighbor(5).hash())]));switch(h.hexagon.distance(n)<=t&&(h.explored=!0),h.type){case"mountain":this.createMountains(h);break;case"forest":this.createForest(h)}this.tiles.set(d,h)}},e.prototype.generateTileType=function(e,t){var n={};for(var o in s["default"].TYPES)n[s["default"].TYPES[o]]=1;for(var i=0;i<t.length;i++){var r=t[i];if("undefined"!=typeof r)switch(r.type){case"mountain":n[s["default"].TYPES.MOUNTAIN]<4?n[s["default"].TYPES.MOUNTAIN]=10:n[s["default"].TYPES.MOUNTAIN]-=6;break;case"plain":n[s["default"].TYPES.PLAIN]+=5;break;case"desert":n[s["default"].TYPES.DESERT]+=5;break;case"forest":n[s["default"].TYPES.FOREST]+=5;break;case"ocean":n[s["default"].TYPES.OCEAN]*=3;break;default:n[r.type]+=1}}var a=0;for(var o in n)a+=n[o];var u=Math.abs(this.game.settings.seed.random()*e*100%a)<<0;for(var o in n)if(u-=n[o],u<0)return o},e.prototype.createForest=function(e){e.biomeData.density=.2,e.biomeData.treeType=["pine","oak","birch"].random(this.game.settings.seed.random()*e.hexagon.hash()*100);for(var t=this.layout.hexagonToPixel(e.hexagon,0),n=[],i=0;i<500;++i){for(var s=t.add(this.layout.randomInside(e.hexagon,0)),a=!1,u=0;u<n.length;++u)if(o.Vector3.Distance(n[u].position,s)<.2*(1-e.biomeData.density)){a=!0;break}if(!a){var c=new r["default"]("tree",e.biomeData.treeType+"-tree");c.position=s,n.push(c)}}e.addEnvironment(n)},e.prototype.createMountains=function(e){e.biomeData.height=1;var t=this.layout.hexagonToPixel(e.hexagon,0),n=[],i=new r["default"]("mountain");i.pathArray=[[new o.Vector3((-.25),.25,0),new o.Vector3(.25,.25,0),new o.Vector3(.25,(-.25),0),new o.Vector3((-.25),(-.25),0)],[new o.Vector3((-.25),.25,.5),new o.Vector3(.25,.25,.5),new o.Vector3(.25,(-.25),.5),new o.Vector3((-.25),(-.25),.5)]],i.position=t,n.push(i),e.addEnvironment(n)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u},function(e,t){"use strict";var n=function(){function e(e,t,n){this.q=e,this.r=t,this.s=n,"undefined"==typeof n&&(this.s=n=-e-t),console.assert(e+t+n==0,"Coordinates (Q, R, S) must amount to 0")}return e.prototype.toString=function(){return"("+this.q+", "+this.r+", "+this.s+")"},e.prototype.hash=function(){var e=this.q>=0?2*this.q:-2*this.q-1,t=this.r>=0?2*this.r:-2*this.r-1,n=(e>=t?e*e+e+t:e+t*t)/2;return this.q<0&&this.r<0||this.q>=0&&this.r>=0?n:-n-1},e.prototype.equal=function(e){return this.q==e.q&&this.r==e.r&&this.s==e.s},e.prototype.add=function(t){return new e(this.q+t.q,this.r+t.r,this.s+t.s)},e.prototype.subtract=function(t){return new e(this.q-t.q,this.r-t.r,this.s-t.s)},e.prototype.multiply=function(t){return new e(this.q*t.q,this.r*t.r,this.s*t.s)},e.prototype.scale=function(t){return new e(this.q*t,this.r*t,this.s*t)},e.prototype.distance=function(e){var t=this.subtract(e);return(Math.abs(t.q)+Math.abs(t.r)+Math.abs(t.s))/2},e.prototype.neighbor=function(e){return this.add(t.hexagonDirections[(6+e%6)%6])},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n,t.hexagonDirections=[new n(0,1,(-1)),new n(1,0,(-1)),new n(1,(-1),0),new n(0,(-1),1),new n((-1),0,1),new n((-1),1,0)]},function(e,t,n){"use strict";var o=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},i=n(18),r=function(e){function t(t,n){e.call(this,t,n),this.id=t,this.model=n}return o(t,e),t}(i["default"]);Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,n){"use strict";var o=n(1),i=function(){function e(e,t){this.id=e,this.model=t,this.position=new o.Vector3(0,0,0)}return e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t){"use strict";var n=function(){function e(t,n){if(this.hexagon=t,this.type=n,this.biomeData={},this.explored=!1,this.environment=[],"undefined"==typeof n){var o=Object.keys(e.TYPES);this.type=e.TYPES[o[o.length*Math.random()<<0]]}}return e.prototype.addEnvironment=function(e){return this.environment=this.environment.concat(e),e},e.prototype.getEntities=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t]},e.prototype.clearEntities=function(){return!0},e.TYPES={MOUNTAIN:"mountain",BARREN:"barren",PLAIN:"plain",DESERT:"desert",OCEAN:"ocean",FOREST:"forest"},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";var o=n(1),i=n(16),r=function(){function e(e,t,n,o,i,r,s,a,u){this.f0=e,this.f1=t,this.f2=n,this.f3=o,this.b0=i,this.b1=r,this.b2=s,this.b3=a,this.startAngle=u}return e}();t.HexagonOrientation=r;var s=function(){function e(e,t,n){this.orientation=e,this.size=t,this.origin=n}return e.prototype.hexagonToPixel=function(e,t){var n=(this.orientation.f0*e.q+this.orientation.f1*e.r)*this.size.x,i=(this.orientation.f2*e.q+this.orientation.f3*e.r)*this.size.y;return new o.Vector3(n+this.origin.x,t,i+this.origin.z)},e.prototype.pixelToHexagon=function(e){var t=new o.Vector2((e.x-this.origin.x)/this.size.x,(e.y-this.origin.y)/this.size.y),n=this.orientation.b0*t.x+this.orientation.b1*t.y,r=this.orientation.b2*t.x+this.orientation.b3*t.y;return new i["default"](n,r,-n-r)},e.prototype.cornerOffset=function(e,t){var n=2*Math.PI*(this.orientation.startAngle+e)/6;return new o.Vector3(this.size.x*Math.cos(n),this.size.y*Math.sin(n),t)},e.prototype.polygonCorners=function(e){for(var t=[],n=this.hexagonToPixel(e,0),i=0;i<7;i++){var r=this.cornerOffset(i,0);t.push(new o.Vector3(n.x+r.x,n.y+r.y,0))}return t},e.prototype.randomInside=function(t,n){if(!(Math.randomBetween(0,3*this.size.x*this.size.y)<<0))return new o.Vector3(0,0,0);var i=Math.randomBetween(0,2)<<0,r=e.RHOMBUSES[i],s=e.RHOMBUSES[(i+1)%3],a=.85*Math.randomBetween(0,this.size.x-1),u=.85*Math.randomBetween(0,this.size.y-1);return new o.Vector3(a*r.x+u*s.x,n,a*r.y+u*s.y)},e.LAYOUT_VERTICAL=new r(Math.sqrt(3),Math.sqrt(3)/2,0,1.5,Math.sqrt(3)/3,-1/3,0,2/3,.5),e.LAYOUT_HORIZONTAL=new r(1.5,0,Math.sqrt(3)/2,Math.sqrt(3),2/3,0,-1/3,Math.sqrt(3)/3,0),e.RHOMBUSES=[new o.Vector2((-1),0),new o.Vector2(.5,Math.sqrt(3)/2),new o.Vector2(.5,-Math.sqrt(3)/2)],e}();t.HexagonLayout=s},function(e,t,n){"use strict";var o=n(1),i=n(22),r=n(23),s=n(24),a=n(25),u=function(){function e(e,t,n){var i=this;this.game=e,this.world=t,this.scene=n,this.scene.clearColor=new o.Color3(.9,.87,.85),this.scene.fogColor=this.scene.clearColor,this.scene.fogMode=o.Scene.FOGMODE_LINEAR,this.scene.fogStart=10,this.scene.fogEnd=15,this.cameraManager=new r["default"](this.scene),this.lightManager=new s["default"](this.scene),this.materialManager=new a["default"](this.scene,this.game.assetsManager),this.mainCamera=this.cameraManager.get("main"),this.mainCamera.setTarget(o.Vector3.Zero()),this.mainCamera.attachControl(this.game.canvas,!1,!1),this.meshes=[],this.scene.actionManager=new o.ActionManager(this.scene),this.scene.actionManager.registerAction(new o.ExecuteCodeAction(o.ActionManager.OnKeyDownTrigger,function(e){192===e.sourceEvent.keyCode&&(i.scene.debugLayer.isVisible()?i.scene.debugLayer.hide():i.scene.debugLayer.show())}))}return e.prototype.onCreate=function(){this.createGround(),this.createTiles(),this.scene.createOrUpdateSelectionOctree();var e=this.lightManager.get("sunLight"),t=new o.ShadowGenerator(4096,e);t.bias=1e-4,t.useBlurVarianceShadowMap=!0,t.getShadowMap().refreshRate=0,t.getShadowMap().renderList=t.getShadowMap().renderList.concat(this.meshes),this.game.engine.runRenderLoop(this.onUpdate.bind(this))},e.prototype.onResume=function(){this.game.engine.runRenderLoop(this.onUpdate.bind(this))},e.prototype.onUpdate=function(){this.scene.render(),this.mainCamera.panningSensibility=100*(this.mainCamera.upperRadiusLimit/this.mainCamera.radius)},e.prototype.onPause=function(){this.game.engine.stopRenderLoop()},e.prototype.onDestroy=function(){},e.prototype.createGround=function(){var e=o.Mesh.CreateGround("ground",100,100,2,this.scene);e.material=this.materialManager.get("paper"),e.receiveShadows=!0},e.prototype.createTiles=function(){var e=this,t=o.MeshBuilder.CreateCylinder("tile-unexplored",{height:.05,diameter:2*this.world.layout.size.x-.05,tessellation:6},this.scene);t.visibility=.4,this.world.tiles.forEach(function(n){var i;n.explored?(i=o.MeshBuilder.CreateCylinder("tile-"+n.hexagon.toString(),{height:.05,diameter:2*e.world.layout.size.x-.05,tessellation:6,faceUV:[new o.Vector4(0,0,0,0),new o.Vector4(0,0,6,.1),new o.Vector4(0,0,1,1)]},e.scene),i.material=e.materialManager.get(n.type),i.receiveShadows=!0,i.edgesWidth=2,i.edgesColor=new o.Color4(.5,0,.5,1),e.createEntities(n,i),i.actionManager=new o.ActionManager(e.scene),i.actionManager.registerAction(new o.ExecuteCodeAction(o.ActionManager.OnPickTrigger,function(){i.enableEdgesRendering(1)}))):i=t.createInstance("tile-"+n.hexagon.toString()),i.position=e.world.layout.hexagonToPixel(n.hexagon,.025),i.rotation=new o.Vector3(0,Math.PI/3,0)},this)},e.prototype.createEntities=function(e,t){for(var n=0;n<e.environment.length;++n){var o=e.environment[n],r=void 0;if("undefined"!=typeof o.model){var s=this.game.assetsManager.get("mesh-"+o.model),a=s.getBoundingInfo().boundingBox;r=s.createInstance("tile-"+e.hexagon.toString()+"-"+o.id+"-"+n),r.position=o.position,r.position.y=.05+(a.maximumWorld.y-a.minimumWorld.y)/2}else r=i["default"].CreateMountain("tile-"+e.hexagon.toString()+"-"+o.id+"-"+n,{base:o.pathArray[0],peak:o.pathArray[1]},this.scene),r.material=this.materialManager.get("mountain"),r.position=o.position,r.position.y=.25;this.meshes.push(r)}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=u},function(e,t,n){"use strict";var o=n(1),i=function(){function e(){}return e.CreateMountain=function(t,n,i){for(var r=new o.Mesh(t,i),s=[new o.Vector3(0,0,1),new o.Vector3(0,0,(-1)),new o.Vector3(1,0,0),new o.Vector3((-1),0,0),new o.Vector3(0,1,0),new o.Vector3(0,(-1),0)],a=[],u=[],c=[],d=[],h=.25,l=.5,f=.25,p=0===n.sideOrientation?0:n.sideOrientation||o.Mesh.DEFAULTSIDE,g=n.faceUV||new Array(6),y=n.faceColors,m=[],v=0;v<6;v++)void 0===g[v]&&(g[v]=new o.Vector4(0,0,1,1)),y&&void 0===y[v]&&(y[v]=new o.Color4(1,1,1,1));for(var w=new o.Vector3(h/2,l/2,f/2),b=0;b<s.length;b++){var x=s[b],M=new o.Vector3(x.y,x.z,x.x),T=o.Vector3.Cross(x,M),S=u.length/3;a.push(S),a.push(S+1),a.push(S+2),a.push(S),a.push(S+2),a.push(S+3);var C=x.subtract(M).subtract(T).multiply(w);u.push(C.x,C.y,C.z),c.push(x.x,x.y,x.z),d.push(g[b].z,g[b].w),y&&m.push(y[b].r,y[b].g,y[b].b,y[b].a),C=x.subtract(M).add(T).multiply(w),u.push(C.x,C.y,C.z),c.push(x.x,x.y,x.z),d.push(g[b].x,g[b].w),y&&m.push(y[b].r,y[b].g,y[b].b,y[b].a),C=x.add(M).add(T).multiply(w),u.push(C.x,C.y,C.z),c.push(x.x,x.y,x.z),d.push(g[b].x,g[b].y),y&&m.push(y[b].r,y[b].g,y[b].b,y[b].a),C=x.add(M).subtract(T).multiply(w),u.push(C.x,C.y,C.z),c.push(x.x,x.y,x.z),d.push(g[b].z,g[b].y),y&&m.push(y[b].r,y[b].g,y[b].b,y[b].a)}e._ComputeSides(p,u,a,c,d);var E=new o.VertexData;if(E.indices=a,E.positions=u,E.normals=c,E.uvs=d,y){var O=p===o.Mesh.DOUBLESIDE?m.concat(m):m;E.colors=O}return E.applyToMesh(r,n.updatable),r},e._ComputeSides=function(e,t,n,i,r){var s,a,u=n.length,c=i.length;switch(e=e||o.Mesh.DEFAULTSIDE){case o.Mesh.FRONTSIDE:break;case o.Mesh.BACKSIDE:var d=void 0;for(s=0;s<u;s+=3)d=n[s],n[s]=n[s+2],n[s+2]=d;for(a=0;a<c;a++)i[a]=-i[a];break;case o.Mesh.DOUBLESIDE:for(var h=t.length,l=h/3,f=0;f<h;f++)t[h+f]=t[f];for(s=0;s<u;s+=3)n[s+u]=n[s+2]+l,n[s+1+u]=n[s+1]+l,n[s+2+u]=n[s]+l;for(a=0;a<c;a++)i[c+a]=-i[a];for(var p=r.length,g=0;g<p;g++)r[g+p]=r[g]}},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,n){"use strict";var o=n(1),i=function(){function e(t){this.scene=t,this.cameras=new Map,this.add("main",e.CAMERA.ARC_ROTATE,{alpha:e.toRadians(360),beta:e.toRadians(40),radius:5,position:o.Vector3.Zero(),settings:{lowerRadiusLimit:3,upperRadiusLimit:10,lowerAlphaLimit:e.toRadians(360),upperAlphaLimit:e.toRadians(360),lowerBetaLimit:e.toRadians(30),panningAxis:new o.Vector3(1,0,1),inertia:.5}})}return e.prototype.add=function(t,n,i){var r;switch(n){case e.CAMERA.ARC_ROTATE:r=new o.ArcRotateCamera(t,i.alpha,i.beta,i.radius,i.position,this.scene);break;case e.CAMERA.UNIVERSAL:}for(var s in i.settings)i.settings.hasOwnProperty(s)&&(r[s]=i.settings[s]);return this.cameras.set(t,r),r},e.prototype.get=function(e){return this.cameras.get(e)},e.toRadians=function(e){return e*Math.PI/180},e.toDegrees=function(e){return 180*e/Math.PI},e.CAMERA={UNIVERSAL:1,ARC_ROTATE:2,FREE:3,FOLLOW:4,TOUCH:5,GAMEPAD:6,DEVICE_ORIENTATION:7,VIRTUAL_JOYSTICK:8,ANAGLYPH:9,VR_DEVICE_ORIENTATION:10,WEB_VR_FREE:11},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,n){"use strict";var o=n(1),i=function(){function e(t){this.scene=t,this.lights=new Map,this.add("sunLight",e.LIGHT.DIRECTIONAL,new o.Vector3((-2),(-8),4),null,{intensity:.7}),this.add("ambientLight",e.LIGHT.HEMISPHERIC,new o.Vector3(0,1,0),null,{intensity:.6,diffuse:new o.Color3(1,1,1),specular:new o.Color3(1,1,1),groundColor:new o.Color3(0,0,0)})}return e.prototype.add=function(t,n,i,r,s){var a;switch(n){case e.LIGHT.DIRECTIONAL:a=new o.DirectionalLight(t,i,this.scene);break;case e.LIGHT.SPOT:a=new o.SpotLight(t,i,r,.8,2,this.scene);break;case e.LIGHT.HEMISPHERIC:a=new o.HemisphericLight(t,i,this.scene)}r&&(a.position=r);for(var u in s)s.hasOwnProperty(u)&&(a[u]=s[u]);return this.lights.set(t,a),a},e.prototype.get=function(e){return this.lights.get(e)},e.LIGHT={POINT:1,DIRECTIONAL:2,SPOT:3,HEMISPHERIC:4},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,n){"use strict";var o=n(1),i=function(){function e(e,t){this.scene=e,this.assetsManager=t,this.materials=new Map,this.add("paper","paper",[-50,-50]);var n=(this.add("barren","dirt"),this.add("plain","grass"),this.add("desert","sand",[-1,-1]),this.add("mountain","stone",[-1,-1]),this.add("forest","grass",[-1,-1]));n.diffuseColor=new o.Color3(.7,.7,.7);var i=this.add("ocean","water",[-1,-1]);i.alpha=.8}return e.prototype.add=function(e,t,n,i){var r=new o.StandardMaterial(e,this.scene);return r.diffuseTexture=this.assetsManager.get("texture-"+t+"-diffuse"),r.diffuseTexture&&("undefined"!=typeof n&&(r.diffuseTexture.uScale=n[0],r.diffuseTexture.vScale=n[1]),"undefined"!=typeof i&&(r.diffuseTexture.uOffset=i[0],r.diffuseTexture.vOffset=i[1])),r.bumpTexture=this.assetsManager.get("texture-"+t+"-bump"),r.bumpTexture&&("undefined"!=typeof n&&(r.bumpTexture.uScale=n[0],r.bumpTexture.vScale=n[1]),"undefined"!=typeof i&&(r.bumpTexture.uOffset=i[0],r.bumpTexture.vOffset=i[1])),r.specularTexture=r.diffuseTexture,r.specularPower=100,this.materials.set(e,r),r},e.prototype.get=function(e){return this.materials.get(e)},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=i},function(e,t,n){"use strict";var o=n(1),i=n(27),r=function(){function e(e,t){var n=this;this.renderingCanvas=e,this.backgroundColor=t,this.resizeToCanvas=function(){var e=n.renderingCanvas.getBoundingClientRect();n.loadingScreen.style.left=e.left+"px",n.loadingScreen.style.top=e.top+"px",n.loadingScreen.style.width=e.width+"px",n.loadingScreen.style.height=e.height+"px"}}return e.prototype.displayLoadingUI=function(){var e=this;this.loadingScreen||(this.template=i({text:this.loadingText||"Loading all the gooey goodness...",backgroundColor:this.backgroundColor.toHexString(),textColor:.33*this.backgroundColor.r+.5*this.backgroundColor.g+.16*this.backgroundColor.b>=.5?"black":"white"}),this.loadingScreen=document.createElement("div"),this.loadingScreen.id="loading-screen",this.loadingScreen.innerHTML=this.template,this.resizeToCanvas(),window.addEventListener("resize",this.resizeToCanvas),document.body.appendChild(this.loadingScreen),setTimeout(function(){e.loadingScreen.style.opacity="1"},0))},e.prototype.hideLoadingUI=function(){var e=this;if(this.loadingScreen){var t=function(){e.loadingScreen&&(document.body.removeChild(e.loadingScreen),window.removeEventListener("resize",e.resizeToCanvas),e.loadingScreen=null)};this.loadingScreen.style.opacity="0",this.loadingScreen.addEventListener("transitionend",t)}},Object.defineProperty(e.prototype,"loadingUIText",{set:function(e){this.loadingText=e,document.querySelector(".loading figcaption").innerHTML=this.loadingText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"loadingUIBackgroundColor",{get:function(){return this.backgroundColor.toHexString()},set:function(e){this.backgroundColor=o.Color3.FromHexString(e)},enumerable:!0,configurable:!0}),e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r},function(e,t,n){function o(e){var t,o="",r=e||{};return function(e,r,s){o=o+"<style>#loading-screen {\n\tposition: absolute;\n\tcolor: "+i.escape(null==(t=s)?"":t)+";\n\tbackground-color: "+i.escape(null==(t=e)?"":t)+";\n\ttext-align: center;\n\topacity: 0;\n\ttransition: opacity 1.5s ease;\n}\nsvg polygon, svg path {\n\tfill: "+i.escape(null==(t=s)?"":t)+';\n}\n.loading {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\tmargin: 0;\n\ttransform: translate(-50%, -50%);\n}\n.loading svg {\n\twidth: 96px;\n}\n.loading figcaption {\n\tmargin-top: 2em;\n}\n.copy {\n\tposition: absolute;\n\tbottom: 0;\n\tpadding: 10%;\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n.copy svg {\n\theight: 1em;\n}\n.copy i {\n\tfont-style: normal;\n\tfont-size: 1.5em;\n}\n</style><figure class="loading"><div>'+(null==(t=n(30))?"":t)+"</div><figcaption>"+i.escape(null==(t=r)?"":t)+'</figcaption></figure><footer class="copy">Project-Hex is powered by BabylonJS <span>'+(null==(t=n(31))?"":t)+"</span> and built with <i>&hearts;</i></footer>"}.call(this,"backgroundColor"in r?r.backgroundColor:"undefined"!=typeof backgroundColor?backgroundColor:void 0,"text"in r?r.text:"undefined"!=typeof text?text:void 0,"textColor"in r?r.textColor:"undefined"!=typeof textColor?textColor:void 0),o}var i=n(28);e.exports=o},function(e,t,n){"use strict";function o(e,t){if(1===arguments.length){for(var n=e[0],i=1;i<e.length;i++)n=o(n,e[i]);return n}for(var r in t)if("class"===r){var s=e[r]||[];e[r]=(Array.isArray(s)?s:[s]).concat(t[r]||[])}else if("style"===r){var s=a(e[r]),u=a(t[r]);e[r]=s+(s&&u&&";")+u}else e[r]=t[r];return e}function i(e,t){for(var n,o="",i="",r=Array.isArray(t),a=0;a<e.length;a++)n=s(e[a]),n&&(r&&t[a]&&(n=d(n)),o=o+i+n,i=" ");return o}function r(e){var t="",n="";for(var o in e)o&&e[o]&&l.call(e,o)&&(t=t+n+o,n=" ");return t}function s(e,t){return Array.isArray(e)?i(e,t):e&&"object"==typeof e?r(e):e||""}function a(e){if(!e)return"";if("object"==typeof e){var t="",n="";for(var o in e)l.call(e,o)&&(t=t+n+o+":"+e[o],n=";");return t}return e=""+e,";"===e[e.length-1]?e.slice(0,-1):e}function u(e,t,n,o){return t!==!1&&null!=t&&(t||"class"!==e&&"style"!==e)?t===!0?" "+(o?e:e+'="'+e+'"'):("function"==typeof t.toJSON&&(t=t.toJSON()),"string"==typeof t||(t=JSON.stringify(t),n||t.indexOf('"')===-1)?(n&&(t=d(t))," "+e+'="'+t+'"'):" "+e+"='"+t.replace(/'/g,"&#39;")+"'"):""}function c(e,t){var n="";for(var o in e)if(l.call(e,o)){var i=e[o];if("class"===o){i=s(i),n=u(o,i,!1,t)+n;continue}"style"===o&&(i=a(i)),n+=u(o,i,!1,t)}return n}function d(e){var t=""+e,n=f.exec(t);if(!n)return e;var o,i,r,s="";for(o=n.index,i=0;o<t.length;o++){switch(t.charCodeAt(o)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==o&&(s+=t.substring(i,o)),i=o+1,s+=r}return i!==o?s+t.substring(i,o):s}function h(e,t,o,i){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&t||i))throw e.message+=" on line "+o,e;try{i=i||n(29).readFileSync(t,"utf8")}catch(r){h(e,null,o)}var s=3,a=i.split("\n"),u=Math.max(o-s,0),c=Math.min(a.length,o+s),s=a.slice(u,c).map(function(e,t){var n=t+u+1;return(n==o?"  > ":"    ")+n+"| "+e}).join("\n");throw e.path=t,e.message=(t||"Pug")+":"+o+"\n"+s+"\n\n"+e.message,e}var l=Object.prototype.hasOwnProperty;t.merge=o,t.classes=s,t.style=a,t.attr=u,t.attrs=c;var f=/["&<>]/;t.escape=d,t.rethrow=h},function(e,t){},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\n<svg id="SVG-Circus-328e0535-70be-f58b-9817-148f0bd26ef0" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" \npreserveAspectRatio="xMidYMid meet">\n\t<style>\n\t\t@keyframes fade {\n\t\t  10% { opacity: 1; }\n\t\t  50% { opacity: 1; }\n\t\t  80% { opacity: 0; }\n\t\t}\n\t\tpolygon { opacity: 0; animation: fade 3000ms ease-in-out infinite }\n\t\t#actor_1 { animation-delay: 100ms }\n\t\t#actor_3 { animation-delay: 200ms }\n\t\t#actor_2 { animation-delay: 300ms }\n\t\t#actor_4 { animation-delay: 400ms }\n\t\t#actor_6 { animation-delay: 500ms }\n\t\t#actor_5 { animation-delay: 600ms }\n\t\t#actor_7 { animation-delay: 700ms }\n\t</style>\n\t<polygon id="actor_1" points="35.00,8.00 21.14,16.00 21.14,32.00 35.00,40.00 48.86,32.00 48.86,16.00" fill="rgba(255,255,255,1)"></polygon>\n\t<polygon id="actor_2" points="65.00,8.00 51.14,16.00 51.14,32.00 65.00,40.00 78.86,32.00 78.86,16.00" fill="rgba(255,255,255,1)"></polygon>\n\t<polygon id="actor_3" points="20.00,34.00 6.14,42.00 6.14,58.00 20.00,66.00 33.86,58.00 33.86,42.00" fill="rgba(255,255,255,1)"></polygon>\n\t<polygon id="actor_4" points="50.00,34.00 36.14,42.00 36.14,58.00 50.00,66.00 63.86,58.00 63.86,42.00" fill="rgba(255,255,255,1)"></polygon>\n\t<polygon id="actor_5" points="80.00,34.00 66.14,42.00 66.14,58.00 80.00,66.00 93.86,58.00 93.86,42.00" fill="rgba(255,255,255,1)"></polygon>\n\t<polygon id="actor_6" points="35.00,60.00 21.14,68.00 21.14,84.00 35.00,92.00 48.86,84.00 48.86,68.00" fill="rgba(255,255,255,1)"></polygon>\n\t<polygon id="actor_7" points="65.00,60.00 51.14,68.00 51.14,84.00 65.00,92.00 78.86,84.00 78.86,68.00" fill="rgba(255,255,255,1)"></polygon>\n</svg>'},function(e,t){e.exports='<?xml version="1.0" encoding="utf-8"?>\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 44.347 44.347" style="enable-background:new 0 0 44.347 44.347;" xml:space="preserve">\n<path class="st0" d="M22.188,0C9.786-0.011,0.025,9.792,0,22.282c-0.025,12.382,9.553,22.035,21.893,22.065\n\tc12.51,0.031,22.412-9.678,22.454-22.018C44.389,10.056,34.421,0.011,22.188,0z M22.078,40.018\n\tc-9.787-0.064-17.738-8.033-17.749-17.786c-0.01-9.567,8.063-17.849,17.398-17.849c10.001,0,18.155,8.038,18.143,17.884\n\tC39.858,32.066,31.823,40.082,22.078,40.018z"/>\n<path class="st0" d="M21.196,6.083c-1.654,2.357-2.497,4.469-0.884,6.821c1.166,1.702,2.788,2.478,4.823,2.073\n\tc2.649-0.527,3.82-2.455,4.303-4.986c2.487,3.938,2.258,7.871-0.584,10.98c-2.739,2.995-6.799,3.766-10.547,2.003\n\tc-3.228-1.519-5.648-5.485-5.301-8.689C13.461,10.071,16.556,6.805,21.196,6.083z"/>\n</svg>\n'},function(e,t){"use strict";var n=function(){function e(e){this.setSeed(e)}return e.prototype.random=function(){return(11*this.seed+17)%25/25},e.prototype.getSeed=function(){return this.seed},e.prototype.setSeed=function(e){this.seed=this.charsToInt(e)},e.prototype.charsToInt=function(e){Array.isArray(e)&&(e=e.join("")),"number"==typeof e&&(e=e.toString());for(var t=0,n=0;n<e.length;++n)t+=e.charCodeAt(n)||1;return t},e}();Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n}]);