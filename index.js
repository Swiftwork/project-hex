webpackJsonp([0],[function(t,e,n){"use strict";var i=n(1),o=n(2);if(!i.Engine.isSupported())throw document.querySelector("h1#support").style.display="block",document.querySelector("canvas#game").remove(),"Your browser does not support BabylonJS or WebGL is not enabled!";document.querySelector("h1#support").remove();var s=new o["default"](document.querySelector("canvas#game"));window.game=s,window.onfocus=s.onResume.bind(s),window.onresize=s.onResize.bind(s),window.onblur=s.onPause.bind(s)},,function(t,e,n){"use strict";var i=n(1),o=n(3),s=n(19),r=n(31),a=n(35),u=n(41),c=function(){function t(){}return t}();e.settings=c;var l=function(){function t(t){var e=this;this.canvas=t,this.settings={seed:new u["default"](2),difficulty:1,paused:!1,graphics:{quality:5}},this.engine=new i.Engine(this.canvas,(!0)),this.engine.loadingScreen=new a["default"](this.canvas,new i.Color3(.4,.2,.3)),this.engine.displayLoadingUI(),this.scene=new i.Scene(this.engine),this.assetsManager=new o["default"],this.assetsManager.loadAllAssets(new i.AssetsManager(this.scene),function(t){e.world=new s["default"](e,e.scene),e.renderer=new r["default"](e,e.world,e.scene),e.onStart()})}return t.prototype.onStart=function(){this.world.onCreate(),this.renderer.onCreate()},t.prototype.onResume=function(){this.settings.paused=!1,this.world.onResume(),this.renderer.onResume()},t.prototype.onResize=function(){this.engine.resize()},t.prototype.onPause=function(){this.settings.paused=!0,this.world.onPause(),this.renderer.onPause()},t.prototype.onQuit=function(){this.world.onDestroy(),this.renderer.onDestroy()},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e,n){"use strict";var i=function(){function t(){this.assets=new Map}return t.prototype.add=function(t,e){return this.assets.set(t,e),e},t.prototype.get=function(t){return this.assets.get(t)},t.prototype.loadAllAssets=function(t,e){var n=this,i=function(e){var i=o.textures[e],s=function(o){var s=i[o],r=t.addTextureTask(e+"-"+o,s);r.onSuccess=function(t){n.add("texture-"+e+"-"+o,t.texture)}};for(var r in i)s(r)};for(var s in o.textures)i(s);for(var s in o.models){var r=o.models[s].mesh,a=t.addMeshTask(s,"","",r);a.onSuccess=function(t){for(var e=0;e<t.loadedMeshes.length;++e){var i=t.loadedMeshes[e];i.setEnabled(!1),n.add("mesh-"+i.id,i)}}}t.onFinish=e,t.load()},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=i;var o={textures:{paper:{diffuse:n(4),bump:n(5)},wood:{diffuse:n(6),bump:n(7)},dirt:{diffuse:n(8)},grass:{diffuse:n(9)},ice:{diffuse:n(10)},sand:{diffuse:n(11)},snow:{diffuse:n(12)},stone:{diffuse:n(13)},water:{diffuse:n(14)},scout:{diffuse:n(15)}},models:{trees:{mesh:n(16)},"viking-village":{mesh:n(17)},scout:{mesh:n(18)}}}},function(t,e,n){t.exports=n.p+"assets/1adf283ac9ae19afe70f836f25be7469.jpg"},function(t,e,n){t.exports=n.p+"assets/28bd68f5196f8978354abb3527f77cfc.jpg"},function(t,e,n){t.exports=n.p+"assets/73e680508c59ccfc010445d7c7696648.jpg"},function(t,e,n){t.exports=n.p+"assets/be7d4f9af24236bf274b02b305073cd7.jpg"},function(t,e,n){t.exports=n.p+"assets/dadb7e6ff1c8addc29f7a195e2cc3145.svg"},function(t,e,n){t.exports=n.p+"assets/80d81f9190bd3f6edb5befa7a0e243cb.svg"},function(t,e,n){t.exports=n.p+"assets/da9e7f8d875a34fc079f0ac8eae93434.svg"},function(t,e,n){t.exports=n.p+"assets/f725a4a6b6718d2fbd507467a3e45f42.svg"},function(t,e,n){t.exports=n.p+"assets/7e4520a81332408a42513d846047e478.svg"},function(t,e,n){t.exports=n.p+"assets/f8fc2596d46033257876cec1c335665a.svg"},function(t,e,n){t.exports=n.p+"assets/cab7a66528bd3aa14ca69fe851dfe583.svg"},function(t,e,n){t.exports=n.p+"assets/7039fa84b94ef12db4c0185c1827723f.jpg"},function(t,e,n){t.exports=n.p+"assets/99727273465a286ce32be67f869e530a.babylon"},function(t,e,n){t.exports=n.p+"assets/2d0f93f4720237daf5570a96c4ddbf92.babylon"},function(t,e,n){t.exports=n.p+"assets/9e4551528ef0076e0cd8a831fc9b7148.babylon"},function(t,e,n){"use strict";var i=n(1),o=n(20),s=n(21),r=n(22),a=n(23),u=n(25),c=n(30),l=function(){function t(t,e){this.game=t,this.scene=e,this.scene.collisionsEnabled=!1,this.playerManager=new c["default"](this.scene),this.tiles=new Map,this.layout=new s.HexagonLayout(s.HexagonLayout.LAYOUT_HORIZONTAL,new i.Vector2(.5,.5),new i.Vector3(0,0,0))}return t.prototype.onCreate=function(){this.createTiles(40);var t=this.playerManager.add("TestMan",u["default"].TYPES.LOCAL),e=t.createBase(this.tiles.get(new o["default"](0,0,0).hash())),n=t.createBase(this.tiles.get(new o["default"](5,3,(-8)).hash())),i=t.createBase(this.tiles.get(new o["default"]((-5),(-5),10).hash()));e.tile.structure.position=this.layout.hexagonToPixel(e.tile.hexagon,0),n.tile.structure.position=this.layout.hexagonToPixel(n.tile.hexagon,0),i.tile.structure.position=this.layout.hexagonToPixel(i.tile.hexagon,0);var s=t.createScout(this.tiles.get(new o["default"]((-3),5,(-2)).hash()));s.tile.unit.position=this.layout.hexagonToPixel(s.tile.hexagon,0),this.onUpdate()},t.prototype.onResume=function(){this.onUpdate()},t.prototype.onUpdate=function(){this.updateVisiblity()},t.prototype.onPause=function(){},t.prototype.onDestroy=function(){},t.prototype.updateVisiblity=function(){var t=this.playerManager.getLocal();this.tiles.forEach(function(e){e.isVisible=!1;for(var n=0;n<t.structures.length;n++){var i=e.hexagon.distance(t.structures[n].tile.hexagon);i<=2&&(e.isVisible=!0),i<=3&&(e.isExplored=!0)}for(var n=0;n<t.units.length;n++){var i=e.hexagon.distance(t.units[n].tile.hexagon);i<=1&&(e.isVisible=!0),i<=3&&(e.isExplored=!0)}})},t.prototype.createTiles=function(t){for(var e=new o["default"](0,0,0),n=-t;n<=t;n++)for(var i=Math.max(-t,-n-t),s=Math.min(t,-n+t),a=i;a<=s;a++){var u=new o["default"](n,a,-n-a),c=u.hash(),l=new r["default"](u,this.generateTileType(c,[this.tiles.get(u.neighbor(3).hash()),this.tiles.get(u.neighbor(4).hash()),this.tiles.get(u.neighbor(5).hash())]));switch(l.hexagon.distance(e)<=0&&(l.isExplored=!0),l.hexagon.distance(e)<=2&&(l.isVisible=!0),l.type){case"mountain":this.createMountains(l);break;case"forest":this.createForest(l)}this.tiles.set(c,l)}},t.prototype.generateTileType=function(t,e){var n={};for(var i in r["default"].TYPES)n[r["default"].TYPES[i]]=1;for(var o=0;o<e.length;o++){var s=e[o];if("undefined"!=typeof s)switch(s.type){case"mountain":n[r["default"].TYPES.MOUNTAIN]<4?n[r["default"].TYPES.MOUNTAIN]=10:n[r["default"].TYPES.MOUNTAIN]-=6;break;case"plain":n[r["default"].TYPES.PLAIN]+=5;break;case"desert":n[r["default"].TYPES.DESERT]+=5;break;case"forest":n[r["default"].TYPES.FOREST]+=5;break;case"ocean":n[r["default"].TYPES.OCEAN]*=3;break;default:n[s.type]+=1}}var a=0;for(var i in n)a+=n[i];var u=Math.abs(this.game.settings.seed.random()*t*100%a)<<0;for(var i in n)if(u-=n[i],u<0)return i},t.prototype.createForest=function(t){t.biomeData.density=.2,t.biomeData.treeType=["pine","oak","birch"].random(this.game.settings.seed.random()*t.hexagon.hash()*100);for(var e=this.layout.hexagonToPixel(t.hexagon,0),n=[],o=0;o<500;++o){for(var s=e.add(this.layout.randomInside(t.hexagon,0)),r=!1,u=0;u<n.length;++u)if(i.Vector3.Distance(n[u].position,s)<.2*(1-t.biomeData.density)){r=!0;break}if(!r){var c=new a["default"]("tree",t.biomeData.treeType+"-tree");c.position=s,n.push(c)}}t.addEnvironment(n)},t.prototype.createMountains=function(t){t.biomeData.height=1;var e=this.layout.hexagonToPixel(t.hexagon,0),n=[],i=new a["default"]("mountain");i.position=e,n.push(i)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=l},function(t,e){"use strict";var n=function(){function t(t,e,n){this.q=t,this.r=e,this.s=n,"undefined"==typeof n&&(this.s=n=-t-e),console.assert(t+e+n==0,"Coordinates (Q, R, S) must amount to 0")}return t.prototype.toString=function(){return"("+this.q+", "+this.r+", "+this.s+")"},t.prototype.hash=function(){var t=this.q>=0?2*this.q:-2*this.q-1,e=this.r>=0?2*this.r:-2*this.r-1,n=(t>=e?t*t+t+e:t+e*e)/2;return this.q<0&&this.r<0||this.q>=0&&this.r>=0?n:-n-1},t.prototype.equal=function(t){return this.q==t.q&&this.r==t.r&&this.s==t.s},t.prototype.add=function(e){return new t(this.q+e.q,this.r+e.r,this.s+e.s)},t.prototype.subtract=function(e){return new t(this.q-e.q,this.r-e.r,this.s-e.s)},t.prototype.multiply=function(e){return new t(this.q*e.q,this.r*e.r,this.s*e.s)},t.prototype.scale=function(e){return new t(this.q*e,this.r*e,this.s*e)},t.prototype.distance=function(t){var e=this.subtract(t);return(Math.abs(e.q)+Math.abs(e.r)+Math.abs(e.s))/2},t.prototype.neighbor=function(t){return this.add(e.hexagonDirections[(6+t%6)%6])},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,e.hexagonDirections=[new n(0,1,(-1)),new n(1,0,(-1)),new n(1,(-1),0),new n(0,(-1),1),new n((-1),0,1),new n((-1),1,0)]},function(t,e,n){"use strict";var i=n(1),o=n(20),s=function(){function t(t,e,n,i,o,s,r,a,u){this.f0=t,this.f1=e,this.f2=n,this.f3=i,this.b0=o,this.b1=s,this.b2=r,this.b3=a,this.startAngle=u}return t}();e.HexagonOrientation=s;var r=function(){function t(t,e,n){this.orientation=t,this.size=e,this.origin=n}return t.prototype.hexagonToPixel=function(t,e){var n=(this.orientation.f0*t.q+this.orientation.f1*t.r)*this.size.x,o=(this.orientation.f2*t.q+this.orientation.f3*t.r)*this.size.y;return new i.Vector3(n+this.origin.x,e,o+this.origin.z)},t.prototype.pixelToHexagon=function(t){var e=new i.Vector2((t.x-this.origin.x)/this.size.x,(t.y-this.origin.y)/this.size.y),n=this.orientation.b0*e.x+this.orientation.b1*e.y,s=this.orientation.b2*e.x+this.orientation.b3*e.y;return new o["default"](n,s,-n-s)},t.prototype.cornerOffset=function(t,e){var n=2*Math.PI*(this.orientation.startAngle+t)/6;return new i.Vector3(this.size.x*Math.cos(n),this.size.y*Math.sin(n),e)},t.prototype.polygonCorners=function(t){for(var e=[],n=this.hexagonToPixel(t,0),o=0;o<7;o++){var s=this.cornerOffset(o,0);e.push(new i.Vector3(n.x+s.x,n.y+s.y,0))}return e},t.prototype.randomInside=function(e,n){if(!(Math.randomBetween(0,3*this.size.x*this.size.y)<<0))return new i.Vector3(0,0,0);var o=Math.randomBetween(0,2)<<0,s=t.RHOMBUSES[o],r=t.RHOMBUSES[(o+1)%3],a=.85*Math.randomBetween(0,this.size.x-1),u=.85*Math.randomBetween(0,this.size.y-1);return new i.Vector3(a*s.x+u*r.x,n,a*s.y+u*r.y)},t.LAYOUT_VERTICAL=new s(Math.sqrt(3),Math.sqrt(3)/2,0,1.5,Math.sqrt(3)/3,-1/3,0,2/3,.5),t.LAYOUT_HORIZONTAL=new s(1.5,0,Math.sqrt(3)/2,Math.sqrt(3),2/3,0,-1/3,Math.sqrt(3)/3,0),t.RHOMBUSES=[new i.Vector2((-1),0),new i.Vector2(.5,Math.sqrt(3)/2),new i.Vector2(.5,-Math.sqrt(3)/2)],t}();e.HexagonLayout=r},function(t,e){"use strict";var n=function(){function t(e,n){if(this.hexagon=e,this.type=n,this.biomeData={},this.isExplored=!1,this.isVisible=!1,this.environment=[],"undefined"==typeof n){var i=Object.keys(t.TYPES);this.type=t.TYPES[i[i.length*Math.random()<<0]]}}return t.prototype.addEnvironment=function(t){return this.environment=this.environment.concat(t),t},t.prototype.setStructure=function(t){return this.structure=t,t},t.prototype.setUnit=function(t){return this.unit=t,t},t.TYPES={ARCTIC:"arctic",BARREN:"barren",DESERT:"desert",FOREST:"forest",GLACIER:"glacier",MOUNTAIN:"mountain",OCEAN:"ocean",PLAIN:"plain"},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(24),s=function(t){function e(e,n){t.call(this,e,n),this.id=e,this.model=n}return i(e,t),e}(o["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){"use strict";var i=n(1),o=function(){function t(t,e){this.id=t,this.model=e,this.position=new i.Vector3(0,0,0)}return t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e,n){"use strict";var i=n(26),o=n(28),s=function(){function t(t,e){this.name=t,this.type=e,this.structures=[],this.units=[]}return t.prototype.createBase=function(t){var e=new i["default"]("base-"+this.structures.length,t,"viking-village");return t.setStructure(e),this.structures.push(e),e},t.prototype.createScout=function(t){var e=new o["default"]("scout-"+this.units.length,t,"scout");return t.setUnit(e),this.units.push(e),e},t.TYPES={LOCAL:0,REMOTE:1,NPC:2},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(27),s=function(t){function e(e,n,i){t.call(this,e,n,i),this.id=e,this.tile=n,this.model=i,this.stage=0}return i(e,t),e}(o["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(24),s=function(t){function e(e,n,i){t.call(this,e,i),this.id=e,this.tile=n,this.model=i,this.stages={1:3,2:4,3:5},this.visibility=2}return i(e,t),e}(o["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(29),s=function(t){function e(e,n,i){t.call(this,e,n,i),this.id=e,this.tile=n,this.model=i}return i(e,t),e}(o["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},o=n(24),s=function(t){function e(e,n,i){t.call(this,e,i),this.id=e,this.tile=n,this.model=i}return i(e,t),e}(o["default"]);Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){"use strict";var i=n(25),o=function(){function t(t){this.scene=t,this.players=new Map,this.teams=new Map}return t.prototype.add=function(t,e,n){var o=new i["default"](t,e);return o.type===i["default"].TYPES.LOCAL&&(this.localPlayer=o),this.players.set(t,o),n&&this.teams.get(n)?this.teams.get(n).push(o):n&&this.teams.set(n,[o]),o},t.prototype.get=function(t){return this.players.get(t)},t.prototype.getLocal=function(){return this.localPlayer},t.prototype.getTeams=function(t){return this.teams.get(t)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e,n){"use strict";var i=n(1),o=n(32),s=n(33),r=n(34),a=function(){function t(t,e,n){var a=this;this.game=t,this.world=e,this.scene=n,this.scene.clearColor=new i.Color3(.9,.87,.85),this.scene.fogColor=this.scene.clearColor,this.scene.fogStart=10,this.scene.fogEnd=15,this.cameraManager=new o["default"](this.scene),this.lightManager=new s["default"](this.scene),this.materialManager=new r["default"](this.scene,this.game.assetsManager),this.mainCamera=this.cameraManager.get("main"),this.mainCamera.setTarget(i.Vector3.Zero()),this.mainCamera.attachControl(this.game.canvas,!1,!1),this.sunLight=this.lightManager.get("sunLight"),this.meshes=[],this.scene.actionManager=new i.ActionManager(this.scene),this.scene.actionManager.registerAction(new i.ExecuteCodeAction(i.ActionManager.OnKeyDownTrigger,function(t){192===t.sourceEvent.keyCode&&(a.scene.debugLayer.isVisible()?a.scene.debugLayer.hide():a.scene.debugLayer.show())}))}return t.prototype.onCreate=function(){this.createGround(),this.createTiles(),this.scene.createOrUpdateSelectionOctree();var t=new i.ShadowGenerator(4096,this.sunLight);t.bias=1e-4,t.useBlurVarianceShadowMap=!0,t.getShadowMap().refreshRate=0,t.getShadowMap().renderList=t.getShadowMap().renderList.concat(this.meshes),this.game.engine.runRenderLoop(this.onUpdate.bind(this))},t.prototype.onResume=function(){this.game.engine.runRenderLoop(this.onUpdate.bind(this))},t.prototype.onUpdate=function(){this.scene.render(),this.mainCamera.panningSensibility=10*(this.mainCamera.upperRadiusLimit/this.mainCamera.radius)},t.prototype.onPause=function(){this.game.engine.stopRenderLoop()},t.prototype.onDestroy=function(){},t.prototype.createGround=function(){var t=i.Mesh.CreateGround("ground",100,100,2,this.scene);t.material=this.materialManager.get("paper"),t.receiveShadows=!0},t.prototype.createTiles=function(){var t=this,e={},n=i.MeshBuilder.CreateCylinder("tile-unexplored",{height:.05,diameter:2*this.world.layout.size.x-.05,tessellation:6},this.scene);n.setEnabled(!1),n.visibility=.4,e.unexplored=n,this.world.tiles.forEach(function(o){var s,r="tile-"+o.hexagon.toString();o.isExplored?(e[o.type]?s=e[o.type].clone(r):(s=i.MeshBuilder.CreateCylinder(r,{height:.05,diameter:2*t.world.layout.size.x-.05,tessellation:6,faceUV:[new i.Vector4(0,0,0,0),new i.Vector4(0,0,6,.1),new i.Vector4(0,0,1,1)]},t.scene),s.material=t.materialManager.get(o.type),s.receiveShadows=!0,e[o.type]=s),t.createEnvironment(o,s),t.createUnit(o,s),o.isVisible?t.createStructure(o,s):t.sunLight.excludedMeshes.push(s),s.overlayColor=new i.Color3(0,0,1),s.overlayAlpha=.3,s.actionManager=new i.ActionManager(t.scene),s.actionManager.registerAction(new i.SwitchBooleanAction(i.ActionManager.OnPickTrigger,s,"renderOverlay"))):s=n.createInstance(r),s.position=t.world.layout.hexagonToPixel(o.hexagon,.025),s.rotation=new i.Vector3(0,Math.PI/3,0)},this)},t.prototype.createEnvironment=function(t,e){for(var n,i,o,s={},r=0;r<t.environment.length;++r){var a=t.environment[r],u="tile-"+t.hexagon.toString()+"-"+a.id+"-"+r;s[a.model]?o=s[a.model].createInstance(u):(n=this.game.assetsManager.get("mesh-"+a.model),o=n.clone(u),o.makeGeometryUnique(),o.subMeshes=n.subMeshes,i=o.getBoundingInfo().boundingBox,t.isVisible||this.sunLight.excludedMeshes.push(o),s[a.model]=o),o.position=a.position,o.position.y=.05+(i.maximumWorld.y-i.minimumWorld.y)/2,this.meshes.push(o)}},t.prototype.createStructure=function(t,e){if(t.structure){var n=this.game.assetsManager.get("mesh-"+t.structure.model),s=n.getBoundingInfo().boundingBox,r=n.createInstance("tile-"+t.hexagon.toString()+"-"+t.structure.id);r.scaling=new i.Vector3(.9,.9,.9),r.rotation=new i.Vector3(0,o["default"].toRadians(125),0),r.position=t.structure.position,r.position.y=.05+(s.maximumWorld.y-s.minimumWorld.y)/2-s.center.y,this.meshes.push(r)}},t.prototype.createUnit=function(t,e){if(t.unit){var n=this.game.assetsManager.get("mesh-"+t.unit.model),s=n.getBoundingInfo().boundingBox,r=n.createInstance("tile-"+t.hexagon.toString()+"-"+t.unit.id);r.scaling=new i.Vector3(.9,.9,.9),r.rotation=new i.Vector3(0,o["default"].toRadians(125),0),r.position=t.unit.position,r.position.y=.05+(s.maximumWorld.y-s.minimumWorld.y)/2-s.center.y,this.meshes.push(r)}},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=a},function(t,e,n){"use strict";var i=n(1),o=function(){function t(e){this.scene=e,this.cameras=new Map,this.add("main",t.CAMERA.ARC_ROTATE,{alpha:t.toRadians(360),beta:t.toRadians(40),radius:5,position:i.Vector3.Zero(),settings:{lowerRadiusLimit:3,upperRadiusLimit:100,lowerAlphaLimit:t.toRadians(360),upperAlphaLimit:t.toRadians(360),lowerBetaLimit:t.toRadians(30),upperBetaLimit:t.toRadians(65),panningAxis:new i.Vector3(1,0,1),inertia:.5}})}return t.prototype.add=function(e,n,o){var s;switch(n){case t.CAMERA.ARC_ROTATE:s=new i.ArcRotateCamera(e,o.alpha,o.beta,o.radius,o.position,this.scene);break;case t.CAMERA.UNIVERSAL:}for(var r in o.settings)o.settings.hasOwnProperty(r)&&(s[r]=o.settings[r]);return this.cameras.set(e,s),s},t.prototype.get=function(t){return this.cameras.get(t)},t.toRadians=function(t){return t*Math.PI/180},t.toDegrees=function(t){return 180*t/Math.PI},t.CAMERA={UNIVERSAL:1,ARC_ROTATE:2,FREE:3,FOLLOW:4,TOUCH:5,GAMEPAD:6,DEVICE_ORIENTATION:7,VIRTUAL_JOYSTICK:8,ANAGLYPH:9,VR_DEVICE_ORIENTATION:10,WEB_VR_FREE:11},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e,n){"use strict";var i=n(1),o=function(){function t(e){this.scene=e,this.lights=new Map,this.add("sunLight",t.LIGHT.DIRECTIONAL,new i.Vector3((-2),(-8),4),null,{intensity:.7}),this.add("ambientLight",t.LIGHT.HEMISPHERIC,new i.Vector3(0,1,0),null,{intensity:.6,diffuse:new i.Color3(1,1,1),specular:new i.Color3(1,1,1),groundColor:new i.Color3(0,0,0)})}return t.prototype.add=function(e,n,o,s,r){var a;switch(n){case t.LIGHT.DIRECTIONAL:a=new i.DirectionalLight(e,o,this.scene);break;case t.LIGHT.SPOT:a=new i.SpotLight(e,o,s,.8,2,this.scene);break;case t.LIGHT.HEMISPHERIC:a=new i.HemisphericLight(e,o,this.scene)}s&&(a.position=s);for(var u in r)r.hasOwnProperty(u)&&(a[u]=r[u]);return this.lights.set(e,a),a},t.prototype.get=function(t){return this.lights.get(t)},t.LIGHT={POINT:1,DIRECTIONAL:2,SPOT:3,HEMISPHERIC:4},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e,n){"use strict";var i=n(1),o=function(){function t(t,e){this.scene=t,this.assetsManager=e,this.materials=new Map,this.add("paper","paper",[-50,-50]);var n=(this.add("arctic","snow",[-1,-1]),this.add("barren","dirt",[-1,-1]),this.add("desert","sand",[-1,-1]),this.add("forest","grass",[-1,-1]));n.diffuseColor=new i.Color3(.7,.7,.7);var o=this.add("glacier","ice",[-1,-1]);o.alpha=.9;var s=(this.add("mountain","stone",[-1,-1]),this.add("ocean","water",[-1,-1]));s.alpha=.9;this.add("plain","grass",[-1,-1])}return t.prototype.add=function(t,e,n,o){var s=new i.StandardMaterial(t,this.scene);return s.diffuseTexture=this.assetsManager.get("texture-"+e+"-diffuse"),s.diffuseTexture&&("undefined"!=typeof n&&(s.diffuseTexture.uScale=n[0],s.diffuseTexture.vScale=n[1]),"undefined"!=typeof o&&(s.diffuseTexture.uOffset=o[0],s.diffuseTexture.vOffset=o[1])),s.bumpTexture=this.assetsManager.get("texture-"+e+"-bump"),s.bumpTexture&&("undefined"!=typeof n&&(s.bumpTexture.uScale=n[0],s.bumpTexture.vScale=n[1]),"undefined"!=typeof o&&(s.bumpTexture.uOffset=o[0],s.bumpTexture.vOffset=o[1])),s.specularTexture=s.diffuseTexture,s.specularPower=100,this.materials.set(t,s),s},t.prototype.get=function(t){return this.materials.get(t)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o},function(t,e,n){"use strict";var i=n(1),o=n(36),s=function(){function t(t,e){var n=this;this.renderingCanvas=t,this.backgroundColor=e,this.resizeToCanvas=function(){var t=n.renderingCanvas.getBoundingClientRect();n.loadingScreen.style.left=t.left+"px",n.loadingScreen.style.top=t.top+"px",n.loadingScreen.style.width=t.width+"px",n.loadingScreen.style.height=t.height+"px"}}return t.prototype.displayLoadingUI=function(){var t=this;this.loadingScreen||(this.template=o({text:this.loadingText||"Loading all the gooey goodness...",backgroundColor:this.backgroundColor.toHexString(),textColor:.33*this.backgroundColor.r+.5*this.backgroundColor.g+.16*this.backgroundColor.b>=.5?"black":"white"}),this.loadingScreen=document.createElement("div"),this.loadingScreen.id="loading-screen",this.loadingScreen.innerHTML=this.template,this.resizeToCanvas(),window.addEventListener("resize",this.resizeToCanvas),document.body.appendChild(this.loadingScreen),setTimeout(function(){t.loadingScreen.style.opacity="1"},0))},t.prototype.hideLoadingUI=function(){var t=this;if(this.loadingScreen){var e=function(){t.loadingScreen&&(document.body.removeChild(t.loadingScreen),window.removeEventListener("resize",t.resizeToCanvas),t.loadingScreen=null)};this.loadingScreen.style.opacity="0",this.loadingScreen.addEventListener("transitionend",e)}},Object.defineProperty(t.prototype,"loadingUIText",{set:function(t){this.loadingText=t,document.querySelector(".loading figcaption").innerHTML=this.loadingText},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadingUIBackgroundColor",{get:function(){return this.backgroundColor.toHexString()},set:function(t){this.backgroundColor=i.Color3.FromHexString(t)},enumerable:!0,configurable:!0}),t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=s},function(t,e,n){function i(t){var e,i="",s=t||{};return function(t,s,r){i=i+"<style>#loading-screen {\n\tposition: absolute;\n\tcolor: "+o.escape(null==(e=r)?"":e)+";\n\tbackground-color: "+o.escape(null==(e=t)?"":e)+";\n\ttext-align: center;\n\topacity: 0;\n\ttransition: opacity 1.5s ease;\n}\nsvg polygon, svg path {\n\tfill: "+o.escape(null==(e=r)?"":e)+';\n}\n.loading {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\tmargin: 0;\n\ttransform: translate(-50%, -50%);\n}\n.loading svg {\n\twidth: 96px;\n}\n.loading figcaption {\n\tmargin-top: 2em;\n}\n.copy {\n\tposition: absolute;\n\tbottom: 0;\n\tpadding: 10%;\n\twidth: 100%;\n\tbox-sizing: border-box;\n}\n.copy svg {\n\theight: 1em;\n}\n.copy i {\n\tfont-style: normal;\n\tfont-size: 1.5em;\n}\n</style><figure class="loading"><div>'+(null==(e=n(39))?"":e)+"</div><figcaption>"+o.escape(null==(e=s)?"":e)+'</figcaption></figure><footer class="copy">Project-Hex is powered by BabylonJS <span>'+(null==(e=n(40))?"":e)+"</span> and built with <i>&hearts;</i></footer>"}.call(this,"backgroundColor"in s?s.backgroundColor:"undefined"!=typeof backgroundColor?backgroundColor:void 0,"text"in s?s.text:"undefined"!=typeof text?text:void 0,"textColor"in s?s.textColor:"undefined"!=typeof textColor?textColor:void 0),i}var o=n(37);t.exports=i},function(t,e,n){"use strict";function i(t,e){if(1===arguments.length){for(var n=t[0],o=1;o<t.length;o++)n=i(n,t[o]);return n}for(var s in e)if("class"===s){var r=t[s]||[];t[s]=(Array.isArray(r)?r:[r]).concat(e[s]||[])}else if("style"===s){var r=a(t[s]),u=a(e[s]);t[s]=r+(r&&u&&";")+u}else t[s]=e[s];return t}function o(t,e){for(var n,i="",o="",s=Array.isArray(e),a=0;a<t.length;a++)n=r(t[a]),n&&(s&&e[a]&&(n=l(n)),i=i+o+n,o=" ");return i}function s(t){var e="",n="";for(var i in t)i&&t[i]&&d.call(t,i)&&(e=e+n+i,n=" ");return e}function r(t,e){return Array.isArray(t)?o(t,e):t&&"object"==typeof t?s(t):t||""}function a(t){if(!t)return"";if("object"==typeof t){var e="",n="";for(var i in t)d.call(t,i)&&(e=e+n+i+":"+t[i],n=";");return e}return t=""+t,";"===t[t.length-1]?t.slice(0,-1):t}function u(t,e,n,i){return e!==!1&&null!=e&&(e||"class"!==t&&"style"!==t)?e===!0?" "+(i?t:t+'="'+t+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||e.indexOf('"')===-1)?(n&&(e=l(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"):""}function c(t,e){var n="";for(var i in t)if(d.call(t,i)){var o=t[i];if("class"===i){o=r(o),n=u(i,o,!1,e)+n;continue}"style"===i&&(o=a(o)),n+=u(i,o,!1,e)}return n}function l(t){var e=""+t,n=f.exec(e);if(!n)return t;var i,o,s,r="";for(i=n.index,o=0;i<e.length;i++){switch(e.charCodeAt(i)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}o!==i&&(r+=e.substring(o,i)),o=i+1,r+=s}return o!==i?r+e.substring(o,i):r}function h(t,e,i,o){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&e||o))throw t.message+=" on line "+i,t;try{o=o||n(38).readFileSync(e,"utf8")}catch(s){h(t,null,i)}var r=3,a=o.split("\n"),u=Math.max(i-r,0),c=Math.min(a.length,i+r),r=a.slice(u,c).map(function(t,e){var n=e+u+1;return(n==i?"  > ":"    ")+n+"| "+t}).join("\n");throw t.path=e,t.message=(e||"Pug")+":"+i+"\n"+r+"\n\n"+t.message,t}var d=Object.prototype.hasOwnProperty;e.merge=i,e.classes=r,e.style=a,e.attr=u,e.attrs=c;var f=/["&<>]/;e.escape=l,e.rethrow=h},function(t,e){},function(t,e){t.exports='<?xml version="1.0" encoding="utf-8"?>\n<svg id="SVG-Circus-328e0535-70be-f58b-9817-148f0bd26ef0" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" \npreserveAspectRatio="xMidYMid meet">\n\t<style>\n\t\t@keyframes fade {\n\t\t  10% { opacity: 1; }\n\t\t  50% { opacity: 1; }\n\t\t  80% { opacity: 0; }\n\t\t}\n\t\tpolygon { opacity: 0; animation: fade 3000ms ease-in-out infinite }\n\t\t#actor_1 { animation-delay: 100ms }\n\t\t#actor_3 { animation-delay: 200ms }\n\t\t#actor_2 { animation-delay: 300ms }\n\t\t#actor_4 { animation-delay: 400ms }\n\t\t#actor_6 { animation-delay: 500ms }\n\t\t#actor_5 { animation-delay: 600ms }\n\t\t#actor_7 { animation-delay: 700ms }\n\t</style>\n\t<polygon id="actor_1" points="35.00,8.00 21.14,16.00 21.14,32.00 35.00,40.00 48.86,32.00 48.86,16.00" fill="rgba(255,255,255,1)"></polygon>\n\t<polygon id="actor_2" points="65.00,8.00 51.14,16.00 51.14,32.00 65.00,40.00 78.86,32.00 78.86,16.00" fill="rgba(255,255,255,1)"></polygon>\n\t<polygon id="actor_3" points="20.00,34.00 6.14,42.00 6.14,58.00 20.00,66.00 33.86,58.00 33.86,42.00" fill="rgba(255,255,255,1)"></polygon>\n\t<polygon id="actor_4" points="50.00,34.00 36.14,42.00 36.14,58.00 50.00,66.00 63.86,58.00 63.86,42.00" fill="rgba(255,255,255,1)"></polygon>\n\t<polygon id="actor_5" points="80.00,34.00 66.14,42.00 66.14,58.00 80.00,66.00 93.86,58.00 93.86,42.00" fill="rgba(255,255,255,1)"></polygon>\n\t<polygon id="actor_6" points="35.00,60.00 21.14,68.00 21.14,84.00 35.00,92.00 48.86,84.00 48.86,68.00" fill="rgba(255,255,255,1)"></polygon>\n\t<polygon id="actor_7" points="65.00,60.00 51.14,68.00 51.14,84.00 65.00,92.00 78.86,84.00 78.86,68.00" fill="rgba(255,255,255,1)"></polygon>\n</svg>'},function(t,e){t.exports='<?xml version="1.0" encoding="utf-8"?>\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n\t viewBox="0 0 44.347 44.347" style="enable-background:new 0 0 44.347 44.347;" xml:space="preserve">\n<path class="st0" d="M22.188,0C9.786-0.011,0.025,9.792,0,22.282c-0.025,12.382,9.553,22.035,21.893,22.065\n\tc12.51,0.031,22.412-9.678,22.454-22.018C44.389,10.056,34.421,0.011,22.188,0z M22.078,40.018\n\tc-9.787-0.064-17.738-8.033-17.749-17.786c-0.01-9.567,8.063-17.849,17.398-17.849c10.001,0,18.155,8.038,18.143,17.884\n\tC39.858,32.066,31.823,40.082,22.078,40.018z"/>\n<path class="st0" d="M21.196,6.083c-1.654,2.357-2.497,4.469-0.884,6.821c1.166,1.702,2.788,2.478,4.823,2.073\n\tc2.649-0.527,3.82-2.455,4.303-4.986c2.487,3.938,2.258,7.871-0.584,10.98c-2.739,2.995-6.799,3.766-10.547,2.003\n\tc-3.228-1.519-5.648-5.485-5.301-8.689C13.461,10.071,16.556,6.805,21.196,6.083z"/>\n</svg>\n'},function(t,e){"use strict";var n=function(){function t(t){this.setSeed(t)}return t.prototype.random=function(){return(11*this.seed+17)%25/25},t.prototype.getSeed=function(){return this.seed},t.prototype.setSeed=function(t){this.seed=this.charsToInt(t)},t.prototype.charsToInt=function(t){Array.isArray(t)&&(t=t.join("")),"number"==typeof t&&(t=t.toString());for(var e=0,n=0;n<t.length;++n)e+=t.charCodeAt(n)||1;return e},t}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n}]);